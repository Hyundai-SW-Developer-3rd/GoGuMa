<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ggm.goguma.mapper.ReviewMapper">

	<select id="getReviewList" parameterType="long" resultType="com.ggm.goguma.dto.ReviewDTO">
		SELECT A.name, A.reviewid, B.productname, A.productid, B.parentpid AS parentid, A.content, A.createdate
        FROM (SELECT m.name, r.reviewid, r.productid, r.content, r.createdate
                FROM REVIEW r, MEMBER m
                WHERE r.memberid = m.memberid) A, product B
        WHERE B.productid = A.productid
        AND B.parentpid = #{parentPID}
	</select>

</mapper>